<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>Principale</title>
    <link rel="icon" href="images/logo/Principale.png" type="image/png">
</head>

<body>
  <div id="header" class="pt-24"></div>

  <main>
    <section class="text-gray-600 body-font">
      <div class="container max-w-full px-5 py-24 mx-auto">
        <h1 class="sm:text-3xl text-2xl font-medium title-font mb-2 text-gray-900">Pitchfork Kickstarter Taxidermy</h1>
        <div class="flex flex-wrap -m-4" id="latest-news"></div>
          <!-- JSで最新6件を横3×縦2で表示 -->
        </div>
      </div>
    </section>
  </main>

  <div id="footer" class="pt-4"></div>
</body>


<!-- Tailwind CSS v4の呼び出し -->
<script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>

<!-- headerの呼び出し -->
<script>
  fetch('header.html')
    .then(res => res.text())
    .then(html => document.getElementById('header').innerHTML = html);
</script>

<!-- footerの呼び出し -->
<script>
  fetch('footer.html')
    .then(res => res.text())
    .then(html => document.getElementById('footer').innerHTML = html);
</script>

<script>
fetch('data/news.json')
  .then(res => res.json())
  .then(newsList => {
      newsList.sort((a,b) => new Date(b.date) - new Date(a.date));
      const latestSix = newsList.slice(0,6);
      const container = document.getElementById('latest-news');
      container.innerHTML = '';

      latestSix.forEach(news => {
          const card = document.createElement('div');
          card.className = 'w-full md:w-1/3 p-4'; // スマホでは縦1列
          card.innerHTML = `
            <div class="bg-gray-100 p-6 rounded-lg w-full">
              <img class="h-250 w-full rounded object-cover object-center mb-6" src="${news.image}" alt="${news.title}">
              <p class="tracking-widest text-gray-900 text-xs font-medium mb-1">${news.date}</p>
              <h2 class="text-lg text-gray-900 font-medium title-font mb-2">${news.title}</h2>
              <p class="leading-relaxed text-base mb-3">${news.summary}</p>
              <a href="news_detail.html?id=${news.id}" class="text-indigo-500 inline-flex items-center">続きを読む</a>
            </div>
          `;
          container.appendChild(card);
      });
  })
  .catch(err => console.error('ニュース読み込みエラー:', err));
</script>