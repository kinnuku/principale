<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>Principale</title>
    <link rel="icon" href="images/logo/Principale.png" type="image/png">
</head>

<body>
  <div id="header" class="pt-24"></div>

  <main>
    <section class="text-gray-600 body-font">
      <div class="container max-w-full px-5 py-24 mx-auto">
        <h1 class="sm:text-3xl text-2xl font-medium title-font mb-6 text-gray-900 text-center">最新ニュース</h1>

        <!-- ニュースカードコンテナ -->
        <div id="latest-news" class="flex flex-wrap justify-center max-w-[80%] mx-auto mb-8"></div>

        <div class="text-center mb-12">
          <a href="news.html" class="inline-block bg-[#72bce6] text-white px-6 py-2 rounded hover:bg-[#5aa8d1] transition-colors duration-200">
            ニュース一覧へ
          </a>
        </div>
      </div>
    </section>
  </main>

  <div id="footer" class="pt-4"></div>
</body>


<!-- Tailwind CSS v4の呼び出し -->
<script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>

<!-- headerの呼び出し -->
<script>
  fetch('header.html')
    .then(res => res.text())
    .then(html => document.getElementById('header').innerHTML = html);
</script>

<!-- footerの呼び出し -->
<script>
  fetch('footer.html')
    .then(res => res.text())
    .then(html => document.getElementById('footer').innerHTML = html);
</script>

<script>
fetch('data/news.json')
  .then(res => res.json())
  .then(newsList => {
      newsList.sort((a,b) => new Date(b.date) - new Date(a.date));
      const latestSix = newsList.slice(0,6);
      const container = document.getElementById('latest-news');
      container.innerHTML = '';

    latestSix.forEach(news => {
        const card = document.createElement('div');
        card.className = 'w-full md:w-1/3 p-1'; // スマホ縦1列、PC横3列
        card.innerHTML = `
          <div class="bg-white p-2 rounded-lg shadow-md w-full">
            <div class="aspect-[16/10] mb-2">
              <img class="w-full h-full object-cover rounded" src="${news.image}" alt="${news.title}">
            </div>
            <p class="tracking-widest text-gray-900 text-xs font-medium mb-1">${news.date}</p>
            <h2 class="text-lg text-gray-900 font-medium title-font mb-1">${news.title}</h2>
            <p class="leading-relaxed text-sm mb-2">${news.summary}</p>
            <a href="news_detail.html?id=${news.id}" class="text-indigo-500 inline-flex items-center">続きを読む</a>
          </div>
        `;
        container.appendChild(card);
    });
  })
  .catch(err => console.error('ニュース読み込みエラー:', err));
</script>
